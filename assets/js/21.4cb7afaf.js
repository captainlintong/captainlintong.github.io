(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{379:function(_,t,v){"use strict";v.r(t);var a=v(42),s=Object(a.a)({},(function(){var _=this,t=_.$createElement,v=_._self._c||t;return v("ContentSlotsDistributor",{attrs:{"slot-key":_.$parent.slotKey}},[v("h1",{attrs:{id:"_3-10-进程管理"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#_3-10-进程管理"}},[_._v("#")]),_._v(" 3.10 进程管理")]),_._v(" "),v("h2",{attrs:{id:"_1-进程管理基础"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#_1-进程管理基础"}},[_._v("#")]),_._v(" 1. 进程管理基础")]),_._v(" "),v("ul",[v("li",[_._v("在Linux中，每个执行的**程序（代码）**都称为一个进程。每个进程都分配一个ID号")]),_._v(" "),v("li",[_._v("每一个进程，都会对应一个父进程，而这个父进程可以复制多个子进程。例如www服务器。")]),_._v(" "),v("li",[_._v("每个进程都可能以两种方式存在。前台和后台。\n"),v("ul",[v("li",[_._v("前台进程：用户目前的屏幕上可以进行操作的。")]),_._v(" "),v("li",[_._v("后台进程：实际在操作，但由于屏幕上无法看到的进程，通常使用后台方式执行。")])])]),_._v(" "),v("li",[_._v("一般系统的服务都是以后台进程的方式存在，而且都会常驻在系统中，直到关机才结束。")])]),_._v(" "),v("h2",{attrs:{id:"_2-显示系统执行的进程"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#_2-显示系统执行的进程"}},[_._v("#")]),_._v(" 2. 显示系统执行的进程")]),_._v(" "),v("h3",{attrs:{id:"_2-1-ps指令详细介绍"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-ps指令详细介绍"}},[_._v("#")]),_._v(" 2.1 ps指令详细介绍")]),_._v(" "),v("blockquote",[v("p",[_._v("ps [选项]：查看目前系统中，有哪些正在执行，以及它们执行的状况")])]),_._v(" "),v("ul",[v("li",[_._v("ps -a：显示当前终端的所有进程信息。")]),_._v(" "),v("li",[_._v("ps -u：以用户的格式显示进程信息。")]),_._v(" "),v("li",[_._v("ps -x：显示后台进程运行的参数。")]),_._v(" "),v("li",[_._v("ps -axu | grep xxx：过滤得到xxx的信息。")]),_._v(" "),v("li",[_._v("ps -ef：以全格式显示当前所有的进程，查看进程的父进程。")]),_._v(" "),v("li",[_._v("-e：显示所有进程。")]),_._v(" "),v("li",[_._v("-f：全格式。")])]),_._v(" "),v("blockquote",[v("p",[_._v("ps -axu显示信息选项")])]),_._v(" "),v("p",[v("img",{attrs:{src:"/linux/3/3.10ps%E6%98%BE%E7%A4%BA%E4%BF%A1%E6%81%AF%E8%AF%B4%E6%98%8E.jpg",alt:"3.10ps显示信息说明.jpg"}})]),_._v(" "),v("blockquote",[v("p",[_._v("System V 展示风格")])]),_._v(" "),v("table",[v("thead",[v("tr",[v("th",[_._v("字段")]),_._v(" "),v("th",[_._v("说明")])])]),_._v(" "),v("tbody",[v("tr",[v("td",[_._v("USER")]),_._v(" "),v("td",[_._v("用户说明")])]),_._v(" "),v("tr",[v("td",[_._v("PID")]),_._v(" "),v("td",[_._v("进程识别号")])]),_._v(" "),v("tr",[v("td",[_._v("%CPU")]),_._v(" "),v("td",[_._v("进程占用cpu百分比")])]),_._v(" "),v("tr",[v("td",[_._v("%MEM")]),_._v(" "),v("td",[_._v("进程占用物理内存百分比")])]),_._v(" "),v("tr",[v("td",[_._v("VSZ")]),_._v(" "),v("td",[_._v("进程占用虚拟内存大小(KB)")])]),_._v(" "),v("tr",[v("td",[_._v("RSS")]),_._v(" "),v("td",[_._v("进程占用物理内存大小(KB)")])]),_._v(" "),v("tr",[v("td",[_._v("TTY")]),_._v(" "),v("td",[_._v("终端机号")])]),_._v(" "),v("tr",[v("td",[_._v("STAT")]),_._v(" "),v("td",[_._v("进程状态，S睡眠，s代表是会话的先导进程，N代表进程拥有比普通进程更高的优先级，R正在运行，D短期等待，Z僵死进程，T被跟踪或被停止")])]),_._v(" "),v("tr",[v("td",[_._v("STARTED")]),_._v(" "),v("td",[_._v("进程启动的时间")])]),_._v(" "),v("tr",[v("td",[_._v("TIME")]),_._v(" "),v("td",[_._v("此进程所消耗的CPU时间")])]),_._v(" "),v("tr",[v("td",[_._v("COMMAND")]),_._v(" "),v("td",[_._v("正在执行的命令或进程名")])])])]),_._v(" "),v("blockquote",[v("p",[_._v("ps -ef显示信息解释")])]),_._v(" "),v("p",[v("img",{attrs:{src:"/linux/3/3.9psef.png",alt:"3.9psef.png"}})]),_._v(" "),v("blockquote",[v("p",[_._v("BSD展示风格")])]),_._v(" "),v("table",[v("thead",[v("tr",[v("th",[_._v("字段")]),_._v(" "),v("th",[_._v("说明")])])]),_._v(" "),v("tbody",[v("tr",[v("td",[_._v("UID")]),_._v(" "),v("td",[_._v("用户id")])]),_._v(" "),v("tr",[v("td",[_._v("PID")]),_._v(" "),v("td",[_._v("进程id")])]),_._v(" "),v("tr",[v("td",[_._v("PPID")]),_._v(" "),v("td",[_._v("父进程")])]),_._v(" "),v("tr",[v("td",[_._v("C")]),_._v(" "),v("td",[_._v("CPU用于执行优先级的因子，数值越大，表明cpu密集型运算，执行优先级会降低，数值越小，表明是I/O密集运算，执行优先级会提高")])]),_._v(" "),v("tr",[v("td",[_._v("STIME")]),_._v(" "),v("td",[_._v("进程启动时间")])]),_._v(" "),v("tr",[v("td",[_._v("TTY")]),_._v(" "),v("td",[_._v("终端机号")])]),_._v(" "),v("tr",[v("td",[_._v("TIME")]),_._v(" "),v("td",[_._v("此进程所消耗的CPU时间")])]),_._v(" "),v("tr",[v("td",[_._v("CMD")]),_._v(" "),v("td",[_._v("启动所用的命令和参数")])])])]),_._v(" "),v("h2",{attrs:{id:"_3-终止进程"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#_3-终止进程"}},[_._v("#")]),_._v(" 3. 终止进程")]),_._v(" "),v("blockquote",[v("p",[_._v("若是某个进程执行一半需要停止时，或是消耗了很大的系统资源时，此时可以考虑停止该进程，使用kill命令来完成此任务")])]),_._v(" "),v("ul",[v("li",[_._v("kill [选项] 进程号：通过进程号杀死进程\n"),v("ul",[v("li",[_._v("-9：表示强迫进程立刻停止")])])]),_._v(" "),v("li",[_._v("killall 进程名称：通过进程名称杀死进程，也支持通配符，这在系统因负载过大而变得很慢时很有用")])]),_._v(" "),v("blockquote",[v("p",[_._v("案例1：踢掉某个非法用户")])]),_._v(" "),v("p",[v("img",{attrs:{src:"/linux/3/3.10%E6%A1%88%E4%BE%8B1.jpg",alt:"3.10案例1"}})]),_._v(" "),v("blockquote",[v("p",[_._v("案例2：终止远程服务")])]),_._v(" "),v("p",[v("img",{attrs:{src:"/linux/3/3.10%E6%A1%88%E4%BE%8B2.jpg",alt:"3.10案例2"}})]),_._v(" "),v("blockquote",[v("p",[_._v("案例3：终止多个gedit编辑器")])]),_._v(" "),v("p",[v("img",{attrs:{src:"/linux/3/3.10%E6%A1%88%E4%BE%8B3.jpg",alt:"3.10案例3"}})]),_._v(" "),v("blockquote",[v("p",[_._v("案例4： 强制沙雕一个终端")])]),_._v(" "),v("p",[v("img",{attrs:{src:"/linux/3/3.10%E6%A1%88%E4%BE%8B4.jpg",alt:"3.10案例4"}})]),_._v(" "),v("h2",{attrs:{id:"_4-查看进程树"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#_4-查看进程树"}},[_._v("#")]),_._v(" 4. 查看进程树")]),_._v(" "),v("ul",[v("li",[_._v("查看进程树：pstree [选项]\n"),v("ul",[v("li",[_._v("-p：显示进程的PID")]),_._v(" "),v("li",[_._v("-u：显示进程的所属用户")])])])]),_._v(" "),v("h2",{attrs:{id:"_5-服务-service-管理"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#_5-服务-service-管理"}},[_._v("#")]),_._v(" 5. 服务(Service)管理")]),_._v(" "),v("blockquote",[v("p",[_._v("服务(Service)本质就是进程，但是是运行在后台的，通常都会监听某个端口，等待其它程序的请求，比如(mysql,sshd 防火墙等),因此我们又称为守护进程。")])]),_._v(" "),v("p",[v("img",{attrs:{src:"/linux/3/3.10%E6%9C%8D%E5%8A%A1%E8%AF%B4%E6%98%8E.jpg",alt:"3.10服务说明"}})]),_._v(" "),v("h3",{attrs:{id:"_5-1-service管理指令"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#_5-1-service管理指令"}},[_._v("#")]),_._v(" 5.1 service管理指令")]),_._v(" "),v("blockquote",[v("p",[_._v("service管理指令：service 服务名 [start | stop | restart | reload | status]\n在CentOS7.0之后，不再使用service，而是systemctl")])]),_._v(" "),v("ul",[v("li",[v("p",[_._v("查看防火墙情况：")]),_._v(" "),v("ul",[v("li",[_._v("service iptables status")]),_._v(" "),v("li",[_._v("systemctl status firewalld（7.0之后的版本）\n"),v("img",{attrs:{src:"/linux/3/3.10%E6%89%93%E5%BC%80%E5%85%B3%E9%97%AD%E9%98%B2%E7%81%AB%E5%A2%99.jpg",alt:"3.10打开关闭防火墙.jpg"}})])])]),_._v(" "),v("li",[v("p",[_._v("测试某个端口是否在监听：telnet")])])]),_._v(" "),v("h3",{attrs:{id:"_5-2-服务查看方式"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#_5-2-服务查看方式"}},[_._v("#")]),_._v(" 5.2 服务查看方式")]),_._v(" "),v("ul",[v("li",[_._v("方式1：setup指令\n"),v("img",{attrs:{src:"/linux/3/3.10%E6%9F%A5%E7%9C%8B%E7%B3%BB%E7%BB%9F%E6%9C%8D%E5%8A%A1.jpg",alt:"3.10查看系统服务.jpg"}})]),_._v(" "),v("li",[_._v("方式2：ls -l /etc/init.d/")])]),_._v(" "),v("h3",{attrs:{id:"_5-3-服务的运行级别-runlevel"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#_5-3-服务的运行级别-runlevel"}},[_._v("#")]),_._v(" 5.3 服务的运行级别（runlevel）")]),_._v(" "),v("ul",[v("li",[_._v("查看或修改默认级别：vim /etc/inittab")]),_._v(" "),v("li",[_._v("每个服务对应的每个运行级别都可以设置\n"),v("RouterLink",{attrs:{to:"/document/linux/3.5实用指令.html"}},[_._v("详细见3.5实用指令第一部分")])],1)]),_._v(" "),v("h3",{attrs:{id:"_5-4-开机流程"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#_5-4-开机流程"}},[_._v("#")]),_._v(" 5.4 开机流程")]),_._v(" "),v("p",[v("img",{attrs:{src:"/linux/3/3.10%E5%BC%80%E6%9C%BA%E6%B5%81%E7%A8%8B.png",alt:"3.10开机流程"}})]),_._v(" "),v("h3",{attrs:{id:"_5-5-chkconfig指令"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#_5-5-chkconfig指令"}},[_._v("#")]),_._v(" 5.5 chkconfig指令")]),_._v(" "),v("blockquote",[v("p",[_._v("chkconfig：可以给每个服务的各个运行级别设置自启动/关闭")])]),_._v(" "),v("h4",{attrs:{id:"_5-5-1-基本语法"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#_5-5-1-基本语法"}},[_._v("#")]),_._v(" 5.5.1 基本语法")]),_._v(" "),v("ul",[v("li",[_._v("查看xxx服务：chkconfig –list | grep xxx")]),_._v(" "),v("li",[_._v("查看服务的状态：chkconfig 服务名 --list")]),_._v(" "),v("li",[_._v("给服务的运行级别设置自启动：chkconfig –level 5 服务名 on/off")]),_._v(" "),v("li",[_._v("要所有运行级别关闭或开启：chkconfig 服务名 on/off")]),_._v(" "),v("li",[v("strong",[_._v("chkconfig重新设置后需要重新启动才能生效")])])]),_._v(" "),v("h2",{attrs:{id:"_6-动态监控进程"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#_6-动态监控进程"}},[_._v("#")]),_._v(" 6. 动态监控进程")]),_._v(" "),v("blockquote",[v("p",[_._v("top与ps相似，都是用来显示正在执行的进程，top的不同之处在于top执行一段时间可以更新正在运行的进程")])]),_._v(" "),v("h3",{attrs:{id:"_6-1-基本语法"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#_6-1-基本语法"}},[_._v("#")]),_._v(" 6.1 基本语法")]),_._v(" "),v("blockquote",[v("p",[_._v("top [选项]")]),_._v(" "),v("ul",[v("li",[_._v("-d 秒数：指定top命令每隔几秒更新。默认是3秒。")]),_._v(" "),v("li",[_._v("-i：使top不显示任何闲置或者僵死进程。")]),_._v(" "),v("li",[_._v("-p：通过指定监控进程ID来仅仅监控某个进程的状态。")])])]),_._v(" "),v("ul",[v("li",[_._v("交互操作说明：")])]),_._v(" "),v("table",[v("thead",[v("tr",[v("th",[_._v("操作")]),_._v(" "),v("th",[_._v("功能")])])]),_._v(" "),v("tbody",[v("tr",[v("td",[_._v("P")]),_._v(" "),v("td",[_._v("以CPU使用率排序，默认就是此项")])]),_._v(" "),v("tr",[v("td",[_._v("M")]),_._v(" "),v("td",[_._v("以内存的使用率排序")])]),_._v(" "),v("tr",[v("td",[_._v("N")]),_._v(" "),v("td",[_._v("以PID排序")])]),_._v(" "),v("tr",[v("td",[_._v("q")]),_._v(" "),v("td",[_._v("退出top")])])])]),_._v(" "),v("blockquote",[v("p",[_._v("动态进程监控图例")])]),_._v(" "),v("p",[v("img",{attrs:{src:"/linux/3/3.10%E5%8A%A8%E6%80%81%E8%BF%9B%E7%A8%8B%E7%9B%91%E6%8E%A7%E5%9B%BE%E4%BE%8B.jpg",alt:"3.10动态进程监控图例"}})]),_._v(" "),v("h3",{attrs:{id:"_6-2-应用案例"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#_6-2-应用案例"}},[_._v("#")]),_._v(" 6.2 应用案例")]),_._v(" "),v("h4",{attrs:{id:"_6-2-1-监控特定用户"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#_6-2-1-监控特定用户"}},[_._v("#")]),_._v(" 6.2.1  监控特定用户")]),_._v(" "),v("ol",[v("li",[_._v("top查看进程；")]),_._v(" "),v("li",[_._v("u")]),_._v(" "),v("li",[_._v("输入用户名。")])]),_._v(" "),v("h4",{attrs:{id:"_6-2-2-终止指定的进程"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#_6-2-2-终止指定的进程"}},[_._v("#")]),_._v(" 6.2.2 终止指定的进程")]),_._v(" "),v("ol",[v("li",[_._v("top查看进程；")]),_._v(" "),v("li",[_._v("k输入要结束的进程。")])]),_._v(" "),v("h2",{attrs:{id:"_7-查看网络情况"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#_7-查看网络情况"}},[_._v("#")]),_._v(" 7. 查看网络情况")]),_._v(" "),v("h3",{attrs:{id:"_7-1-基本语法"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#_7-1-基本语法"}},[_._v("#")]),_._v(" 7.1 基本语法")]),_._v(" "),v("blockquote",[v("p",[_._v("netstat [选项]")]),_._v(" "),v("ul",[v("li",[_._v("-an：按一定顺序排列输出")]),_._v(" "),v("li",[_._v("-p：显示哪个进程在调用")])])]),_._v(" "),v("h3",{attrs:{id:"_7-2-应用案例"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#_7-2-应用案例"}},[_._v("#")]),_._v(" 7.2 应用案例")]),_._v(" "),v("ol",[v("li",[v("p",[_._v("查看所有的网络服务")]),_._v(" "),v("ul",[v("li",[_._v("netstat -anp | more")])])]),_._v(" "),v("li",[v("p",[_._v("查看sshd的服务的信息")]),_._v(" "),v("ul",[v("li",[_._v("netstat -anp | grep sshd")])])])])])}),[],!1,null,null,null);t.default=s.exports}}]);