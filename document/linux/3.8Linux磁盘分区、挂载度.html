<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>3.8 Linux磁盘分区、挂载度 | 林通的博客</title>
    <meta name="generator" content="VuePress 1.7.1">
    <link rel="icon" href="/t.png">
    <link rel="manifest" href="/t.png">
    <link rel="apple-touch-icon" href="/t.png">
    <meta name="description" content="">
    
    <link rel="preload" href="/assets/css/0.styles.b3c63175.css" as="style"><link rel="preload" href="/assets/js/app.5b750b2f.js" as="script"><link rel="preload" href="/assets/js/2.9d841fc7.js" as="script"><link rel="preload" href="/assets/js/30.64b29afe.js" as="script"><link rel="prefetch" href="/assets/js/10.ab3c5569.js"><link rel="prefetch" href="/assets/js/11.9ffd8b87.js"><link rel="prefetch" href="/assets/js/12.2b0e65f8.js"><link rel="prefetch" href="/assets/js/13.7293d620.js"><link rel="prefetch" href="/assets/js/14.e9ed901e.js"><link rel="prefetch" href="/assets/js/15.1835c998.js"><link rel="prefetch" href="/assets/js/16.23cf1b86.js"><link rel="prefetch" href="/assets/js/17.5b61f23f.js"><link rel="prefetch" href="/assets/js/18.dac8cdb9.js"><link rel="prefetch" href="/assets/js/19.8c19fd0c.js"><link rel="prefetch" href="/assets/js/20.19730c06.js"><link rel="prefetch" href="/assets/js/21.4cb7afaf.js"><link rel="prefetch" href="/assets/js/22.2393c7ba.js"><link rel="prefetch" href="/assets/js/23.235c554a.js"><link rel="prefetch" href="/assets/js/24.dfe13c18.js"><link rel="prefetch" href="/assets/js/25.129c720c.js"><link rel="prefetch" href="/assets/js/26.8f215707.js"><link rel="prefetch" href="/assets/js/27.1e1bbf29.js"><link rel="prefetch" href="/assets/js/28.2e7f30e4.js"><link rel="prefetch" href="/assets/js/29.e7534779.js"><link rel="prefetch" href="/assets/js/3.82806575.js"><link rel="prefetch" href="/assets/js/31.a765f5ca.js"><link rel="prefetch" href="/assets/js/32.964f004f.js"><link rel="prefetch" href="/assets/js/33.ec7e0def.js"><link rel="prefetch" href="/assets/js/34.0b1aaedb.js"><link rel="prefetch" href="/assets/js/35.80051ef3.js"><link rel="prefetch" href="/assets/js/36.bb805246.js"><link rel="prefetch" href="/assets/js/37.54880ed7.js"><link rel="prefetch" href="/assets/js/38.1f79a1b1.js"><link rel="prefetch" href="/assets/js/4.8987860b.js"><link rel="prefetch" href="/assets/js/5.49ec7f77.js"><link rel="prefetch" href="/assets/js/6.f60c1ad1.js"><link rel="prefetch" href="/assets/js/7.722ec247.js"><link rel="prefetch" href="/assets/js/8.c375ce61.js"><link rel="prefetch" href="/assets/js/9.810b7d56.js">
    <link rel="stylesheet" href="/assets/css/0.styles.b3c63175.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/t.png" alt="林通的博客" class="logo"> <span class="site-name can-hide">林通的博客</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  首页
</a></div><div class="nav-item"><a href="/document/http/" class="nav-link">
  技术文档
</a></div><div class="nav-item"><a href="/article/" class="nav-link">
  文章
</a></div><div class="nav-item"><a href="https://github.com/captainlintong" target="_blank" rel="noopener noreferrer" class="nav-link external">
  github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  首页
</a></div><div class="nav-item"><a href="/document/http/" class="nav-link">
  技术文档
</a></div><div class="nav-item"><a href="/article/" class="nav-link">
  文章
</a></div><div class="nav-item"><a href="https://github.com/captainlintong" target="_blank" rel="noopener noreferrer" class="nav-link external">
  github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><a href="/document/http/" class="sidebar-heading clickable"><span>web协议</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/document/work/" class="sidebar-heading clickable"><span>看看vue</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/document/js/" class="sidebar-heading clickable"><span>聊聊js</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/document/webrtc" class="sidebar-heading clickable"><span>webrtc</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/document/pdf" class="sidebar-heading clickable"><span>pdf预览</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/document/linux" class="sidebar-heading clickable router-link-active open"><span>linux</span> <span class="arrow down"></span></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/document/linux/" aria-current="page" class="sidebar-link">1 Linux课程介绍</a></li><li><a href="/document/linux/2.1Linux入门.html" class="sidebar-link">2 Linux入门</a></li><li><a href="/document/linux/2.2Linux安装.html" class="sidebar-link">2.2 Linux安装</a></li><li><a href="/document/linux/2.3Linux目录结构.html" class="sidebar-link">2.3 Linux基本目录机构</a></li><li><a href="/document/linux/3.1远程登录Linux系统.html" class="sidebar-link">3.1 远程登录Linux系统</a></li><li><a href="/document/linux/3.2vi和vim编辑器.html" class="sidebar-link">3.2 vi和vim编辑器</a></li><li><a href="/document/linux/3.3关机、重启和用户登录注销.html" class="sidebar-link">3.3 关机、重启和用户登录注销</a></li><li><a href="/document/linux/3.4用户管理.html" class="sidebar-link">3.4 用户管理</a></li><li><a href="/document/linux/3.5实用指令.html" class="sidebar-link">3.5 实用指令</a></li><li><a href="/document/linux/3.6组管理和权限管理.html" class="sidebar-link">3.6 组管理和权限管理</a></li><li><a href="/document/linux/3.7定时任务调度.html" class="sidebar-link">3.7 定时任务调度</a></li><li><a href="/document/linux/3.8Linux磁盘分区、挂载度.html" class="active sidebar-link">3.8 Linux磁盘分区、挂载度</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/document/linux/3.8Linux磁盘分区、挂载度.html#_1-分区方式" class="sidebar-link">1. 分区方式</a></li><li class="sidebar-sub-header"><a href="/document/linux/3.8Linux磁盘分区、挂载度.html#_2-linux分区" class="sidebar-link">2. Linux分区</a></li><li class="sidebar-sub-header"><a href="/document/linux/3.8Linux磁盘分区、挂载度.html#_4-磁盘状况查询" class="sidebar-link">4. 磁盘状况查询</a></li></ul></li><li><a href="/document/linux/3.9网络配置.html" class="sidebar-link">3.9 网络配置</a></li><li><a href="/document/linux/3.10进程管理.html" class="sidebar-link">3.10 进程管理</a></li><li><a href="/document/linux/3.11包管理工具(RPM和YUM).html" class="sidebar-link">3.11 包管理工具</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="_3-8-linux磁盘分区、挂载度"><a href="#_3-8-linux磁盘分区、挂载度" class="header-anchor">#</a> 3.8 Linux磁盘分区、挂载度</h1> <h2 id="_1-分区方式"><a href="#_1-分区方式" class="header-anchor">#</a> 1. 分区方式</h2> <ul><li>mbr分区
<ul><li>最多支持四个主分区</li> <li>系统只能安装在主分区</li> <li>扩展分区要占一个主分区</li> <li>MBR最大只支持2TB，但拥有最好的兼容性</li></ul></li> <li>gpt分区
<ul><li>支持无限多个主分区（但操作系统可能限制，比如windows下最多128个分区）</li> <li>最大支持18EB的大容量（1EB=1024PB，PB=1024TB）</li> <li>windows7 64位以后支持gpt</li></ul></li></ul> <h2 id="_2-linux分区"><a href="#_2-linux分区" class="header-anchor">#</a> 2. Linux分区</h2> <h3 id="_2-1-分区原理"><a href="#_2-1-分区原理" class="header-anchor">#</a> 2.1 分区原理</h3> <ul><li>Linux来说无论有几个分区，分给哪一个目录使用，它归根结底就只有一个根目录，一个独立且唯一的文件结构，Linux中每个分区都是用来组成整个文件系统的一部分。</li> <li>Linux采用了一种叫做“载入”的处理方法，它的整个文件系统中包含了一整套的文件和目录，且将一个分区和一个目录联系起来。这时要载入的一个分区将使它的存储空间在一个目录下获得。
<img src="/linux/3/3.8Linux%E5%88%86%E5%8C%BA%E5%8E%9F%E7%90%86.jpg" alt="3.8Linux分区原理"></li></ul> <h3 id="_2-2-硬盘说明"><a href="#_2-2-硬盘说明" class="header-anchor">#</a> 2.2 硬盘说明</h3> <ul><li>Linux硬盘分IDE硬盘和SCSI硬盘，目前基本上是SCSI硬盘</li> <li>lsblk [-f]：查看当前系统的分区和挂载情况。（list block）</li></ul> <h3 id="_3-挂载硬盘"><a href="#_3-挂载硬盘" class="header-anchor">#</a> 3. 挂载硬盘</h3> <blockquote><p>需求是给我们的Linux系统增加一个新的硬盘，并且挂载到/home/newdisk</p></blockquote> <ol><li>添加硬盘</li> <li>分区：fdsk /dev/sdb</li> <li>格式化：mkfs -t ext4 /dev/sdb1</li> <li>挂载：新建目录：mkdir /home/newdisk；挂载：mount /dev/sdb1 /home/newdisk</li> <li>设置可以自动挂载（永久挂载）：重启系统后，仍然可以挂载。vim etc/fstab 增加挂载信息。mount -a：生效</li></ol> <h3 id="_3-1-具体步骤"><a href="#_3-1-具体步骤" class="header-anchor">#</a> 3.1 具体步骤</h3> <h4 id="_3-1-1-增加硬盘"><a href="#_3-1-1-增加硬盘" class="header-anchor">#</a> 3.1.1 增加硬盘</h4> <p><img src="/linux/3/3.8%E5%A2%9E%E5%8A%A0%E7%A1%AC%E7%9B%98.jpg" alt="3.8增加硬盘.jpg"></p> <h4 id="_3-1-2-硬盘分区"><a href="#_3-1-2-硬盘分区" class="header-anchor">#</a> 3.1.2 硬盘分区</h4> <p><img src="/linux/3/3.8%E7%A1%AC%E7%9B%98%E5%88%86%E5%8C%BA.jpg" alt="3.8硬盘分区.jpg"></p> <h4 id="_3-1-3-格式化磁盘"><a href="#_3-1-3-格式化磁盘" class="header-anchor">#</a> 3.1.3 格式化磁盘</h4> <p><img src="/linux/3/3.8%E6%A0%BC%E5%BC%8F%E5%8C%96%E7%A3%81%E7%9B%98.jpg" alt="3.8格式化磁盘.jpg"></p> <h4 id="_3-1-4-挂载硬盘"><a href="#_3-1-4-挂载硬盘" class="header-anchor">#</a> 3.1.4 挂载硬盘</h4> <p><img src="/linux/3/3.8%E6%8C%82%E8%BD%BD%E7%A1%AC%E7%9B%98.jpg" alt="3.8格式化磁盘.jpg"></p> <h4 id="_3-1-5-永久挂载"><a href="#_3-1-5-永久挂载" class="header-anchor">#</a> 3.1.5 永久挂载</h4> <p><img src="/linux/3/3.8%E6%B0%B8%E4%B9%85%E6%8C%82%E8%BD%BD.jpg" alt="3.8格式化磁盘.jpg"></p> <h3 id="_3-2-取消挂载"><a href="#_3-2-取消挂载" class="header-anchor">#</a> 3.2 取消挂载</h3> <ul><li>取消挂载：unmount /dev/sdb1</li></ul> <h2 id="_4-磁盘状况查询"><a href="#_4-磁盘状况查询" class="header-anchor">#</a> 4. 磁盘状况查询</h2> <ul><li>磁盘情况查询：df -h / df -l</li></ul> <blockquote><p>实例</p></blockquote> <p><img src="/linux/3/3.8%E6%9F%A5%E8%AF%A2%E7%B3%BB%E7%BB%9F%E7%A3%81%E7%9B%98.jpg" alt="3.8查询系统磁盘"></p> <ul><li>查询指定目录的磁盘占用情况：du -h /目录，默认为当前目录
<ul><li>-s：指定目录占用大小汇总</li> <li>-h：带计量单位</li> <li>-a：含文件</li> <li>–max-depth=1：子目录深度</li> <li>-c：列出明细的同时，增加汇总值</li></ul></li></ul> <blockquote><p>实例</p></blockquote> <p><img src="/linux/3/3.8%E6%9F%A5%E8%AF%A2%E6%8C%87%E5%AE%9A%E7%9B%AE%E5%BD%95.jpg" alt="3.8查询指定目录"></p> <ul><li>磁盘情况-工作实用指令
<ul><li>统计/home文件夹下文件的个数：ls -l /home | grep &quot;^-&quot; | wc -l</li> <li>统计/home文件夹下目录的个数：ls -l /home | grep &quot;^d&quot; | wc -l</li> <li>统计/home文件夹下文件的个数，包括子文件夹里的：ls -lR /home | grep &quot;^-&quot; | wc -l</li> <li>统计文件夹下目录的个数，包括子文件夹里的：ls -lR /home | grep &quot;^d&quot; | wc -l</li> <li>以树状显示目录结构：首先安装tree指令：yum install tree，tree</li></ul></li></ul> <blockquote><p>实例</p></blockquote> <p><img src="/linux/3/3.8%E5%B7%A5%E4%BD%9C%E5%AE%9E%E7%94%A8%E6%8C%87%E4%BB%A41.jpg" alt="3.8工作实用指令1"> <img src="/linux/3/3.8%E5%B7%A5%E4%BD%9C%E5%AE%9E%E7%94%A8%E6%8C%87%E4%BB%A42.jpg" alt="3.8工作实用指令1.jpg"></p></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/document/linux/3.7定时任务调度.html" class="prev">
        3.7 定时任务调度
      </a></span> <span class="next"><a href="/document/linux/3.9网络配置.html">
        3.9 网络配置
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.5b750b2f.js" defer></script><script src="/assets/js/2.9d841fc7.js" defer></script><script src="/assets/js/30.64b29afe.js" defer></script>
  </body>
</html>
