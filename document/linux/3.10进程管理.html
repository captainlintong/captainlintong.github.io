<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>3.10 进程管理 | 林通的博客</title>
    <meta name="generator" content="VuePress 1.7.1">
    <link rel="icon" href="/t.png">
    <link rel="manifest" href="/t.png">
    <link rel="apple-touch-icon" href="/t.png">
    <meta name="description" content="">
    
    <link rel="preload" href="/assets/css/0.styles.b3c63175.css" as="style"><link rel="preload" href="/assets/js/app.5b750b2f.js" as="script"><link rel="preload" href="/assets/js/2.9d841fc7.js" as="script"><link rel="preload" href="/assets/js/21.4cb7afaf.js" as="script"><link rel="prefetch" href="/assets/js/10.ab3c5569.js"><link rel="prefetch" href="/assets/js/11.9ffd8b87.js"><link rel="prefetch" href="/assets/js/12.2b0e65f8.js"><link rel="prefetch" href="/assets/js/13.7293d620.js"><link rel="prefetch" href="/assets/js/14.e9ed901e.js"><link rel="prefetch" href="/assets/js/15.1835c998.js"><link rel="prefetch" href="/assets/js/16.23cf1b86.js"><link rel="prefetch" href="/assets/js/17.5b61f23f.js"><link rel="prefetch" href="/assets/js/18.dac8cdb9.js"><link rel="prefetch" href="/assets/js/19.8c19fd0c.js"><link rel="prefetch" href="/assets/js/20.19730c06.js"><link rel="prefetch" href="/assets/js/22.2393c7ba.js"><link rel="prefetch" href="/assets/js/23.235c554a.js"><link rel="prefetch" href="/assets/js/24.dfe13c18.js"><link rel="prefetch" href="/assets/js/25.129c720c.js"><link rel="prefetch" href="/assets/js/26.8f215707.js"><link rel="prefetch" href="/assets/js/27.1e1bbf29.js"><link rel="prefetch" href="/assets/js/28.2e7f30e4.js"><link rel="prefetch" href="/assets/js/29.e7534779.js"><link rel="prefetch" href="/assets/js/3.82806575.js"><link rel="prefetch" href="/assets/js/30.64b29afe.js"><link rel="prefetch" href="/assets/js/31.a765f5ca.js"><link rel="prefetch" href="/assets/js/32.964f004f.js"><link rel="prefetch" href="/assets/js/33.ec7e0def.js"><link rel="prefetch" href="/assets/js/34.0b1aaedb.js"><link rel="prefetch" href="/assets/js/35.80051ef3.js"><link rel="prefetch" href="/assets/js/36.bb805246.js"><link rel="prefetch" href="/assets/js/37.54880ed7.js"><link rel="prefetch" href="/assets/js/38.1f79a1b1.js"><link rel="prefetch" href="/assets/js/4.8987860b.js"><link rel="prefetch" href="/assets/js/5.49ec7f77.js"><link rel="prefetch" href="/assets/js/6.f60c1ad1.js"><link rel="prefetch" href="/assets/js/7.722ec247.js"><link rel="prefetch" href="/assets/js/8.c375ce61.js"><link rel="prefetch" href="/assets/js/9.810b7d56.js">
    <link rel="stylesheet" href="/assets/css/0.styles.b3c63175.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/t.png" alt="林通的博客" class="logo"> <span class="site-name can-hide">林通的博客</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  首页
</a></div><div class="nav-item"><a href="/document/http/" class="nav-link">
  技术文档
</a></div><div class="nav-item"><a href="/article/" class="nav-link">
  文章
</a></div><div class="nav-item"><a href="https://github.com/captainlintong" target="_blank" rel="noopener noreferrer" class="nav-link external">
  github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  首页
</a></div><div class="nav-item"><a href="/document/http/" class="nav-link">
  技术文档
</a></div><div class="nav-item"><a href="/article/" class="nav-link">
  文章
</a></div><div class="nav-item"><a href="https://github.com/captainlintong" target="_blank" rel="noopener noreferrer" class="nav-link external">
  github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><a href="/document/http/" class="sidebar-heading clickable"><span>web协议</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/document/work/" class="sidebar-heading clickable"><span>看看vue</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/document/js/" class="sidebar-heading clickable"><span>聊聊js</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/document/webrtc" class="sidebar-heading clickable"><span>webrtc</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/document/pdf" class="sidebar-heading clickable"><span>pdf预览</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/document/linux" class="sidebar-heading clickable router-link-active open"><span>linux</span> <span class="arrow down"></span></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/document/linux/" aria-current="page" class="sidebar-link">1 Linux课程介绍</a></li><li><a href="/document/linux/2.1Linux入门.html" class="sidebar-link">2 Linux入门</a></li><li><a href="/document/linux/2.2Linux安装.html" class="sidebar-link">2.2 Linux安装</a></li><li><a href="/document/linux/2.3Linux目录结构.html" class="sidebar-link">2.3 Linux基本目录机构</a></li><li><a href="/document/linux/3.1远程登录Linux系统.html" class="sidebar-link">3.1 远程登录Linux系统</a></li><li><a href="/document/linux/3.2vi和vim编辑器.html" class="sidebar-link">3.2 vi和vim编辑器</a></li><li><a href="/document/linux/3.3关机、重启和用户登录注销.html" class="sidebar-link">3.3 关机、重启和用户登录注销</a></li><li><a href="/document/linux/3.4用户管理.html" class="sidebar-link">3.4 用户管理</a></li><li><a href="/document/linux/3.5实用指令.html" class="sidebar-link">3.5 实用指令</a></li><li><a href="/document/linux/3.6组管理和权限管理.html" class="sidebar-link">3.6 组管理和权限管理</a></li><li><a href="/document/linux/3.7定时任务调度.html" class="sidebar-link">3.7 定时任务调度</a></li><li><a href="/document/linux/3.8Linux磁盘分区、挂载度.html" class="sidebar-link">3.8 Linux磁盘分区、挂载度</a></li><li><a href="/document/linux/3.9网络配置.html" class="sidebar-link">3.9 网络配置</a></li><li><a href="/document/linux/3.10进程管理.html" class="active sidebar-link">3.10 进程管理</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/document/linux/3.10进程管理.html#_1-进程管理基础" class="sidebar-link">1. 进程管理基础</a></li><li class="sidebar-sub-header"><a href="/document/linux/3.10进程管理.html#_2-显示系统执行的进程" class="sidebar-link">2. 显示系统执行的进程</a></li><li class="sidebar-sub-header"><a href="/document/linux/3.10进程管理.html#_3-终止进程" class="sidebar-link">3. 终止进程</a></li><li class="sidebar-sub-header"><a href="/document/linux/3.10进程管理.html#_4-查看进程树" class="sidebar-link">4. 查看进程树</a></li><li class="sidebar-sub-header"><a href="/document/linux/3.10进程管理.html#_5-服务-service-管理" class="sidebar-link">5. 服务(Service)管理</a></li><li class="sidebar-sub-header"><a href="/document/linux/3.10进程管理.html#_6-动态监控进程" class="sidebar-link">6. 动态监控进程</a></li><li class="sidebar-sub-header"><a href="/document/linux/3.10进程管理.html#_7-查看网络情况" class="sidebar-link">7. 查看网络情况</a></li></ul></li><li><a href="/document/linux/3.11包管理工具(RPM和YUM).html" class="sidebar-link">3.11 包管理工具</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="_3-10-进程管理"><a href="#_3-10-进程管理" class="header-anchor">#</a> 3.10 进程管理</h1> <h2 id="_1-进程管理基础"><a href="#_1-进程管理基础" class="header-anchor">#</a> 1. 进程管理基础</h2> <ul><li>在Linux中，每个执行的**程序（代码）**都称为一个进程。每个进程都分配一个ID号</li> <li>每一个进程，都会对应一个父进程，而这个父进程可以复制多个子进程。例如www服务器。</li> <li>每个进程都可能以两种方式存在。前台和后台。
<ul><li>前台进程：用户目前的屏幕上可以进行操作的。</li> <li>后台进程：实际在操作，但由于屏幕上无法看到的进程，通常使用后台方式执行。</li></ul></li> <li>一般系统的服务都是以后台进程的方式存在，而且都会常驻在系统中，直到关机才结束。</li></ul> <h2 id="_2-显示系统执行的进程"><a href="#_2-显示系统执行的进程" class="header-anchor">#</a> 2. 显示系统执行的进程</h2> <h3 id="_2-1-ps指令详细介绍"><a href="#_2-1-ps指令详细介绍" class="header-anchor">#</a> 2.1 ps指令详细介绍</h3> <blockquote><p>ps [选项]：查看目前系统中，有哪些正在执行，以及它们执行的状况</p></blockquote> <ul><li>ps -a：显示当前终端的所有进程信息。</li> <li>ps -u：以用户的格式显示进程信息。</li> <li>ps -x：显示后台进程运行的参数。</li> <li>ps -axu | grep xxx：过滤得到xxx的信息。</li> <li>ps -ef：以全格式显示当前所有的进程，查看进程的父进程。</li> <li>-e：显示所有进程。</li> <li>-f：全格式。</li></ul> <blockquote><p>ps -axu显示信息选项</p></blockquote> <p><img src="/linux/3/3.10ps%E6%98%BE%E7%A4%BA%E4%BF%A1%E6%81%AF%E8%AF%B4%E6%98%8E.jpg" alt="3.10ps显示信息说明.jpg"></p> <blockquote><p>System V 展示风格</p></blockquote> <table><thead><tr><th>字段</th> <th>说明</th></tr></thead> <tbody><tr><td>USER</td> <td>用户说明</td></tr> <tr><td>PID</td> <td>进程识别号</td></tr> <tr><td>%CPU</td> <td>进程占用cpu百分比</td></tr> <tr><td>%MEM</td> <td>进程占用物理内存百分比</td></tr> <tr><td>VSZ</td> <td>进程占用虚拟内存大小(KB)</td></tr> <tr><td>RSS</td> <td>进程占用物理内存大小(KB)</td></tr> <tr><td>TTY</td> <td>终端机号</td></tr> <tr><td>STAT</td> <td>进程状态，S睡眠，s代表是会话的先导进程，N代表进程拥有比普通进程更高的优先级，R正在运行，D短期等待，Z僵死进程，T被跟踪或被停止</td></tr> <tr><td>STARTED</td> <td>进程启动的时间</td></tr> <tr><td>TIME</td> <td>此进程所消耗的CPU时间</td></tr> <tr><td>COMMAND</td> <td>正在执行的命令或进程名</td></tr></tbody></table> <blockquote><p>ps -ef显示信息解释</p></blockquote> <p><img src="/linux/3/3.9psef.png" alt="3.9psef.png"></p> <blockquote><p>BSD展示风格</p></blockquote> <table><thead><tr><th>字段</th> <th>说明</th></tr></thead> <tbody><tr><td>UID</td> <td>用户id</td></tr> <tr><td>PID</td> <td>进程id</td></tr> <tr><td>PPID</td> <td>父进程</td></tr> <tr><td>C</td> <td>CPU用于执行优先级的因子，数值越大，表明cpu密集型运算，执行优先级会降低，数值越小，表明是I/O密集运算，执行优先级会提高</td></tr> <tr><td>STIME</td> <td>进程启动时间</td></tr> <tr><td>TTY</td> <td>终端机号</td></tr> <tr><td>TIME</td> <td>此进程所消耗的CPU时间</td></tr> <tr><td>CMD</td> <td>启动所用的命令和参数</td></tr></tbody></table> <h2 id="_3-终止进程"><a href="#_3-终止进程" class="header-anchor">#</a> 3. 终止进程</h2> <blockquote><p>若是某个进程执行一半需要停止时，或是消耗了很大的系统资源时，此时可以考虑停止该进程，使用kill命令来完成此任务</p></blockquote> <ul><li>kill [选项] 进程号：通过进程号杀死进程
<ul><li>-9：表示强迫进程立刻停止</li></ul></li> <li>killall 进程名称：通过进程名称杀死进程，也支持通配符，这在系统因负载过大而变得很慢时很有用</li></ul> <blockquote><p>案例1：踢掉某个非法用户</p></blockquote> <p><img src="/linux/3/3.10%E6%A1%88%E4%BE%8B1.jpg" alt="3.10案例1"></p> <blockquote><p>案例2：终止远程服务</p></blockquote> <p><img src="/linux/3/3.10%E6%A1%88%E4%BE%8B2.jpg" alt="3.10案例2"></p> <blockquote><p>案例3：终止多个gedit编辑器</p></blockquote> <p><img src="/linux/3/3.10%E6%A1%88%E4%BE%8B3.jpg" alt="3.10案例3"></p> <blockquote><p>案例4： 强制沙雕一个终端</p></blockquote> <p><img src="/linux/3/3.10%E6%A1%88%E4%BE%8B4.jpg" alt="3.10案例4"></p> <h2 id="_4-查看进程树"><a href="#_4-查看进程树" class="header-anchor">#</a> 4. 查看进程树</h2> <ul><li>查看进程树：pstree [选项]
<ul><li>-p：显示进程的PID</li> <li>-u：显示进程的所属用户</li></ul></li></ul> <h2 id="_5-服务-service-管理"><a href="#_5-服务-service-管理" class="header-anchor">#</a> 5. 服务(Service)管理</h2> <blockquote><p>服务(Service)本质就是进程，但是是运行在后台的，通常都会监听某个端口，等待其它程序的请求，比如(mysql,sshd 防火墙等),因此我们又称为守护进程。</p></blockquote> <p><img src="/linux/3/3.10%E6%9C%8D%E5%8A%A1%E8%AF%B4%E6%98%8E.jpg" alt="3.10服务说明"></p> <h3 id="_5-1-service管理指令"><a href="#_5-1-service管理指令" class="header-anchor">#</a> 5.1 service管理指令</h3> <blockquote><p>service管理指令：service 服务名 [start | stop | restart | reload | status]
在CentOS7.0之后，不再使用service，而是systemctl</p></blockquote> <ul><li><p>查看防火墙情况：</p> <ul><li>service iptables status</li> <li>systemctl status firewalld（7.0之后的版本）
<img src="/linux/3/3.10%E6%89%93%E5%BC%80%E5%85%B3%E9%97%AD%E9%98%B2%E7%81%AB%E5%A2%99.jpg" alt="3.10打开关闭防火墙.jpg"></li></ul></li> <li><p>测试某个端口是否在监听：telnet</p></li></ul> <h3 id="_5-2-服务查看方式"><a href="#_5-2-服务查看方式" class="header-anchor">#</a> 5.2 服务查看方式</h3> <ul><li>方式1：setup指令
<img src="/linux/3/3.10%E6%9F%A5%E7%9C%8B%E7%B3%BB%E7%BB%9F%E6%9C%8D%E5%8A%A1.jpg" alt="3.10查看系统服务.jpg"></li> <li>方式2：ls -l /etc/init.d/</li></ul> <h3 id="_5-3-服务的运行级别-runlevel"><a href="#_5-3-服务的运行级别-runlevel" class="header-anchor">#</a> 5.3 服务的运行级别（runlevel）</h3> <ul><li>查看或修改默认级别：vim /etc/inittab</li> <li>每个服务对应的每个运行级别都可以设置
<a href="/document/linux/3.5实用指令.html">详细见3.5实用指令第一部分</a></li></ul> <h3 id="_5-4-开机流程"><a href="#_5-4-开机流程" class="header-anchor">#</a> 5.4 开机流程</h3> <p><img src="/linux/3/3.10%E5%BC%80%E6%9C%BA%E6%B5%81%E7%A8%8B.png" alt="3.10开机流程"></p> <h3 id="_5-5-chkconfig指令"><a href="#_5-5-chkconfig指令" class="header-anchor">#</a> 5.5 chkconfig指令</h3> <blockquote><p>chkconfig：可以给每个服务的各个运行级别设置自启动/关闭</p></blockquote> <h4 id="_5-5-1-基本语法"><a href="#_5-5-1-基本语法" class="header-anchor">#</a> 5.5.1 基本语法</h4> <ul><li>查看xxx服务：chkconfig –list | grep xxx</li> <li>查看服务的状态：chkconfig 服务名 --list</li> <li>给服务的运行级别设置自启动：chkconfig –level 5 服务名 on/off</li> <li>要所有运行级别关闭或开启：chkconfig 服务名 on/off</li> <li><strong>chkconfig重新设置后需要重新启动才能生效</strong></li></ul> <h2 id="_6-动态监控进程"><a href="#_6-动态监控进程" class="header-anchor">#</a> 6. 动态监控进程</h2> <blockquote><p>top与ps相似，都是用来显示正在执行的进程，top的不同之处在于top执行一段时间可以更新正在运行的进程</p></blockquote> <h3 id="_6-1-基本语法"><a href="#_6-1-基本语法" class="header-anchor">#</a> 6.1 基本语法</h3> <blockquote><p>top [选项]</p> <ul><li>-d 秒数：指定top命令每隔几秒更新。默认是3秒。</li> <li>-i：使top不显示任何闲置或者僵死进程。</li> <li>-p：通过指定监控进程ID来仅仅监控某个进程的状态。</li></ul></blockquote> <ul><li>交互操作说明：</li></ul> <table><thead><tr><th>操作</th> <th>功能</th></tr></thead> <tbody><tr><td>P</td> <td>以CPU使用率排序，默认就是此项</td></tr> <tr><td>M</td> <td>以内存的使用率排序</td></tr> <tr><td>N</td> <td>以PID排序</td></tr> <tr><td>q</td> <td>退出top</td></tr></tbody></table> <blockquote><p>动态进程监控图例</p></blockquote> <p><img src="/linux/3/3.10%E5%8A%A8%E6%80%81%E8%BF%9B%E7%A8%8B%E7%9B%91%E6%8E%A7%E5%9B%BE%E4%BE%8B.jpg" alt="3.10动态进程监控图例"></p> <h3 id="_6-2-应用案例"><a href="#_6-2-应用案例" class="header-anchor">#</a> 6.2 应用案例</h3> <h4 id="_6-2-1-监控特定用户"><a href="#_6-2-1-监控特定用户" class="header-anchor">#</a> 6.2.1  监控特定用户</h4> <ol><li>top查看进程；</li> <li>u</li> <li>输入用户名。</li></ol> <h4 id="_6-2-2-终止指定的进程"><a href="#_6-2-2-终止指定的进程" class="header-anchor">#</a> 6.2.2 终止指定的进程</h4> <ol><li>top查看进程；</li> <li>k输入要结束的进程。</li></ol> <h2 id="_7-查看网络情况"><a href="#_7-查看网络情况" class="header-anchor">#</a> 7. 查看网络情况</h2> <h3 id="_7-1-基本语法"><a href="#_7-1-基本语法" class="header-anchor">#</a> 7.1 基本语法</h3> <blockquote><p>netstat [选项]</p> <ul><li>-an：按一定顺序排列输出</li> <li>-p：显示哪个进程在调用</li></ul></blockquote> <h3 id="_7-2-应用案例"><a href="#_7-2-应用案例" class="header-anchor">#</a> 7.2 应用案例</h3> <ol><li><p>查看所有的网络服务</p> <ul><li>netstat -anp | more</li></ul></li> <li><p>查看sshd的服务的信息</p> <ul><li>netstat -anp | grep sshd</li></ul></li></ol></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/document/linux/3.9网络配置.html" class="prev">
        3.9 网络配置
      </a></span> <span class="next"><a href="/document/linux/3.11包管理工具(RPM和YUM).html">
        3.11 包管理工具
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.5b750b2f.js" defer></script><script src="/assets/js/2.9d841fc7.js" defer></script><script src="/assets/js/21.4cb7afaf.js" defer></script>
  </body>
</html>
